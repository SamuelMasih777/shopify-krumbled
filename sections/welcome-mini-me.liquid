{% schema %}
{
  "name": "Welcome Mini-Me",
  "settings": [
    {
      "type": "header",
      "content": "Hero Section"
    },
    {
      "type": "checkbox",
      "id": "show_hero",
      "label": "Show Hero Section",
      "default": true
    },
    {
      "type": "color",
      "id": "hero_bg_color",
      "label": "Hero Background Color",
      "default": "#f6d5d0"
    },
    {
      "type": "text",
      "id": "hero_top_label",
      "label": "Top Label",
      "default": "WELCOME TO MINI + ME"
    },
    {
      "type": "textarea",
      "id": "hero_heading",
      "label": "Hero Heading",
      "default": "We're here for you, so you're present for them."
    },
    {
      "type": "font_picker",
      "id": "hero_font",
      "label": "Hero Font",
      "default": "serif"
    },
    {
      "type": "range",
      "id": "hero_heading_size",
      "min": 32,
      "max": 80,
      "step": 2,
      "unit": "px",
      "label": "Hero Heading Size",
      "default": 56
    },
    {
      "type": "color",
      "id": "hero_text_color",
      "label": "Hero Text Color",
      "default": "#111111"
    },
    {
      "type": "image_picker",
      "id": "hero_deco_1",
      "label": "Decorative Image 1 (Top Left)"
    },
    {
      "type": "image_picker",
      "id": "hero_deco_2",
      "label": "Decorative Image 2 (Top Right)"
    },
    {
      "type": "header",
      "content": "Section Settings"
    },
    {
      "type": "range",
      "id": "section_padding",
      "min": 0,
      "max": 120,
      "step": 10,
      "unit": "px",
      "label": "Section Padding",
      "default": 0
    }
  ],
  "blocks": [
    {
      "type": "content_block",
      "name": "Content Block",
      "settings": [
        {
          "type": "select",
          "id": "layout",
          "label": "Layout",
          "options": [
            {
              "value": "image_right",
              "label": "Image Right, Text Left"
            },
            {
              "value": "image_left",
              "label": "Image Left, Text Right"
            }
          ],
          "default": "image_right"
        },
        {
          "type": "image_picker",
          "id": "main_image",
          "label": "Main Image"
        },
        {
          "type": "image_picker",
          "id": "text_bg_image",
          "label": "Text Background Image"
        },
        {
          "type": "color",
          "id": "text_bg_color",
          "label": "Text Background Color",
          "default": "#d4c4e8"
        },
        {
          "type": "text",
          "id": "top_label",
          "label": "Top Label",
          "default": "OUR INTRODUCTION"
        },
        {
          "type": "textarea",
          "id": "heading",
          "label": "Heading",
          "default": "We're taking care of you, so they can thrive and flourish."
        },
        {
          "type": "font_picker",
          "id": "heading_font",
          "label": "Heading Font",
          "default": "serif"
        },
        {
          "type": "range",
          "id": "heading_size",
          "min": 24,
          "max": 60,
          "step": 2,
          "unit": "px",
          "label": "Heading Size",
          "default": 42
        },
        {
          "type": "richtext",
          "id": "description",
          "label": "Description",
          "default": "<p>Welcome to mini + me. Our philosophy is simple. Our little one's I'm so best when their parents are fully supported. From conception, pregnancy, postpartum and beyond, we've got the goods and products carefully curated to help fill your cup.</p>"
        },
        {
          "type": "text",
          "id": "button_text",
          "label": "Button Text",
          "default": "LEARN MORE"
        },
        {
          "type": "url",
          "id": "button_url",
          "label": "Button URL"
        },
        {
          "type": "color",
          "id": "button_bg",
          "label": "Button Background",
          "default": "#ffffff"
        },
        {
          "type": "color",
          "id": "button_text_color",
          "label": "Button Text Color",
          "default": "#111111"
        },
        {
          "type": "image_picker",
          "id": "decorative_image",
          "label": "Decorative Overlay Image"
        },
        {
          "type": "select",
          "id": "deco_position",
          "label": "Decorative Image Position",
          "options": [
            {
              "value": "none",
              "label": "None"
            },
            {
              "value": "bottom_left",
              "label": "Bottom Left"
            },
            {
              "value": "bottom_right",
              "label": "Bottom Right"
            },
            {
              "value": "top_left",
              "label": "Top Left"
            },
            {
              "value": "top_right",
              "label": "Top Right"
            }
          ],
          "default": "none"
        },
        {
          "type": "range",
          "id": "content_padding",
          "min": 0,
          "max": 100,
          "step": 10,
          "unit": "px",
          "label": "Content Padding (Text Area)",
          "default": 0
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Welcome Mini-Me",
      "blocks": [
        {
          "type": "content_block",
          "settings": {
            "layout": "image_right",
            "top_label": "OUR INTRODUCTION",
            "heading": "We're taking care of you, so they can thrive and flourish."
          }
        },
        {
          "type": "content_block",
          "settings": {
            "layout": "image_left",
            "top_label": "KEIRA RUMBLE",
            "heading": "The Founder",
            "text_bg_color": "#e8a85f"
          }
        }
      ]
    }
  ]
}
{% endschema %}

<style>
{{ section.settings.hero_font | font_face }}

.welcome-mini-me {
  position: relative;
  overflow: hidden;
}

.hero-section {
  background-color: {{ section.settings.hero_bg_color }};
  padding: 80px 40px 100px;
  text-align: center;
  position: relative;
  overflow: visible;
  {% unless section.settings.show_hero %}display: none;{% endunless %}
}

.hero-deco {
  position: absolute;
  z-index: 1;
}

.hero-deco-1 {
  top: 20px;
  left: 20px;
  width: 80px;
  height: auto;
}

.hero-deco-2 {
  top: 20px;
  right: 20px;
  width: 100px;
  height: auto;
}

.hero-content {
  max-width: 900px;
  margin: 0 auto;
  position: relative;
  z-index: 2;
}

.hero-top-label {
  font-size: 11px;
  letter-spacing: 2.5px;
  text-transform: uppercase;
  font-weight: 600;
  color: {{ section.settings.hero_text_color }};
  margin-bottom: 25px;
  opacity: 0.7;
}

.hero-heading {
  font-family: {{ section.settings.hero_font.family }}, {{ section.settings.hero_font.fallback_families }};
  font-size: {{ section.settings.hero_heading_size }}px;
  font-weight: 400;
  color: {{ section.settings.hero_text_color }};
  line-height: 1.2;
  margin: 0;
}

.hero-heading em {
  font-style: italic;
}

.content-blocks {
  padding: {{ section.settings.section_padding }}px 0;
}

/* Existing styles */
.content-block {
  display: grid;
  grid-template-columns: 1fr 1fr;
  min-height: 600px;
  position: relative;
  overflow: hidden;
}

/* Add these new styles for layout switching */
/* When image_left is selected */
.content-block.image_left .block-image {
  order: 0;
}

.content-block.image_left .block-text {
  order: 1;
}

/* When image_right is selected (default) */
.content-block.image_right .block-image {
  order: 1;
}

.content-block.image_right .block-text {
  order: 0;
}

.block-image {
  position: relative;
  overflow: hidden;
}

.block-image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

.block-text {
  position: relative;
  display: flex;
  flex-direction: column;
  justify-content: center;
  padding: 80px 60px;
  background-size: cover;
  background-position: center;
}

.block-text::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 0;
}

.block-text-content {
  position: relative;
  z-index: 1;
  max-width: 500px;
}

.block-top-label {
  font-size: 10px;
  letter-spacing: 2px;
  text-transform: uppercase;
  font-weight: 700;
  color: #ffffff;
  margin-bottom: 20px;
  opacity: 0.9;
}

.block-heading {
  font-size: 42px;
  font-weight: 400;
  color: #ffffff;
  line-height: 1.2;
  margin-bottom: 25px;
}

.block-description {
  font-size: 14px;
  line-height: 1.8;
  color: #ffffff;
  margin-bottom: 30px;
  opacity: 0.95;
}

.block-description p {
  margin-bottom: 15px;
}

.block-button {
  display: inline-block;
  padding: 14px 32px;
  border-radius: 4px;
  text-decoration: none;
  font-size: 11px;
  font-weight: 700;
  letter-spacing: 1.5px;
  text-transform: uppercase;
  transition: all 0.3s ease;
  border: 1.5px solid transparent;
}

.block-button:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

.decorative-overlay {
  position: absolute;
  width: 150px;
  height: auto;
  z-index: 10;
  pointer-events: none;
}

.deco-bottom-left {
  bottom: 30px;
  left: 30px;
}

.deco-bottom-right {
  bottom: 30px;
  right: 30px;
}

.deco-top-left {
  top: 30px;
  left: 30px;
}

.deco-top-right {
  top: 30px;
  right: 30px;
}

@media (max-width: 1024px) {
  .hero-heading {
    font-size: clamp(36px, 6vw, {{ section.settings.hero_heading_size }}px);
  }
  
  .content-block {
    gap: 30px;
    padding: 50px 30px;
  }
  
  .block-image {
    min-height: 350px;
  }
  
  .block-text {
    padding: 30px 0;
  }
  
  .block-heading {
    font-size: 32px;
  }
}

@media (max-width: 768px) {
  .hero-section {
    padding: 60px 20px 80px;
  }
  
  .hero-deco-1,
  .hero-deco-2 {
    width: 60px;
  }
  
  .block-text {
    padding: 50px 30px;
  }
  
  .block-text-content {
    max-width: 100%;
  }
  
  .block-heading {
    font-size: 28px;
  }
}
  
  .decorative-overlay {
    width: 100px;
  }
}
</style>

<section class="welcome-mini-me">
  <div class="hero-section">
    {% if section.settings.hero_deco_1 %}
      <img src="{{ section.settings.hero_deco_1 | image_url: width: 200 }}" alt="Decoration" class="hero-deco hero-deco-1">
    {% endif %}
    
    {% if section.settings.hero_deco_2 %}
      <img src="{{ section.settings.hero_deco_2 | image_url: width: 200 }}" alt="Decoration" class="hero-deco hero-deco-2">
    {% endif %}
    
    <div class="hero-content">
      {% if section.settings.hero_top_label != blank %}
        <p class="hero-top-label">{{ section.settings.hero_top_label }}</p>
      {% endif %}
      
      {% if section.settings.hero_heading != blank %}
        <h1 class="hero-heading">{{ section.settings.hero_heading }}</h1>
      {% endif %}
    </div>
  </div>
  
  <div class="content-blocks">
    {% for block in section.blocks %}
      <div class="content-block {{ block.settings.layout }}" {{ block.shopify_attributes }}>
        <div class="block-image">
          {% if block.settings.main_image %}
            <img src="{{ block.settings.main_image | image_url: width: 1000 }}" alt="{{ block.settings.heading }}">
          {% else %}
            <div style="width: 100%; height: 100%; background: linear-gradient(135deg, #f5f5f5 0%, #e0e0e0 100%); display: flex; align-items: center; justify-content: center; color: #999;">
              <span>Add Image</span>
            </div>
          {% endif %}
        </div>
        
        <div class="block-text" style="background-color: {{ block.settings.text_bg_color }}; {% if block.settings.text_bg_image %}background-image: url('{{ block.settings.text_bg_image | image_url: width: 1200 }}');{% endif %} padding-top: calc(80px + {{ block.settings.content_padding }}px); padding-bottom: calc(80px + {{ block.settings.content_padding }}px); padding-left: calc(60px + {{ block.settings.content_padding }}px); padding-right: calc(60px + {{ block.settings.content_padding }}px);">
          <div class="block-text-content">
            {% if block.settings.top_label != blank %}
              <p class="block-top-label">{{ block.settings.top_label }}</p>
            {% endif %}
            
            {% if block.settings.heading != blank %}
              <h2 class="block-heading" style="font-family: {{ block.settings.heading_font.family }}, {{ block.settings.heading_font.fallback_families }}; font-size: {{ block.settings.heading_size }}px;">
                {{ block.settings.heading }}
              </h2>
            {% endif %}
            
            {% if block.settings.description != blank %}
              <div class="block-description">
                {{ block.settings.description }}
              </div>
            {% endif %}
            
            {% if block.settings.button_text != blank %}
              <a href="{{ block.settings.button_url }}" class="block-button" style="background: {{ block.settings.button_bg }}; color: {{ block.settings.button_text_color }};">
                {{ block.settings.button_text }}
              </a>
            {% endif %}
          </div>
          
          {% if block.settings.decorative_image and block.settings.deco_position != 'none' %}
            <img src="{{ block.settings.decorative_image | image_url: width: 300 }}" alt="Decoration" class="decorative-overlay deco-{{ block.settings.deco_position }}">
          {% endif %}
        </div>
      </div>
    {% endfor %}
  </div>
</section>
